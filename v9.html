
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>YouWe Quest</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #0a0a0a;
      color: #e0e0e0;
    }
    header {
      width: 100%;
      padding: 20px 40px;
      background: rgba(10, 10, 10, 0.95);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
    }
    header h1 {
      font-size: 24px;
      color: #4CAF50;
    }
    .menu-button {
      background-color: #1e1e1e;
      color: #e0e0e0;
      border: 1px solid #4CAF50;
      padding: 10px 16px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
    }
    .welcome {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 48px;
      font-weight: 300;
      color: #9be7a7;
    }
    #client-section {
      display: none;
      padding: 120px 40px 40px;
    }
    #searchBar {
      padding: 12px;
      width: 80%;
      max-width: 400px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      margin-bottom: 20px;
      background: #1e1e1e;
      color: white;
    }
    .card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: flex-start;
    }
    .card {
      background-color: #1e1e1e;
      border-radius: 10px;
      padding: 20px;
      width: 300px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .card h3 {
      margin: 0 0 10px;
      font-size: 18px;
      color: #81c784;
    }
    .card p {
      margin: 4px 0;
    }
    .view-more {
      background-color: #4CAF50;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      color: black;
      font-size: 14px;
    }
    .modal {
      display: none;
      position: fixed;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 600px;
      background: #121212;
      color: #eee;
      border-radius: 10px;
      padding: 20px;
      z-index: 2001;
      box-shadow: 0 0 30px rgba(0,0,0,0.7);
    }
    .modal h4 {
      border-bottom: 1px solid #444;
      padding-bottom: 6px;
      margin-top: 20px;
      font-size: 16px;
      color: #81c784;
    }
    .modal .row {
      display: flex;
      justify-content: space-between;
      margin: 6px 0;
    }
    .modal .row span {
      color: #aaa;
    }
    .close-btn {
      float: right;
      background: #f44336;
      color: white;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 4px;
    }
    .copy-btn {
      background: #4CAF50;
      color: black;
      border: none;
      padding: 3px 6px;
      margin-left: 10px;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body onload="checkAccess()">

<header>
  <h1>YouWe Quest</h1>
  <button class="menu-button" onclick="showClientCreds()">Client Creds</button>
</header>

<div class="welcome" id="welcome-section">Welcome to YouWe Quest</div>

<section id="client-section">
  <center><input type="text" id="searchBar" placeholder="Search by Name, PAN, GSTIN..." onkeyup="filterCards()"></center>
  <div class="card-container" id="cards-container"></div>
</section>

<div id="modal" class="modal">
  <button class="close-btn" onclick="document.getElementById('modal').style.display='none'">Close</button>
  <div id="modal-content"></div>
</div>

<script>
const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQaENJvfxYFqsKRFKAIHb-nlYI9vOnLZqJ99aYxztjOXCvLXn6a4CkhbEOB5JpeXFOIZFJuvf4tPZcp/pub?gid=0&single=true&output=csv';

function checkAccess() {
  document.body.style.overflow = 'auto';
  document.getElementById("client-section").style.display = 'none';
}

function showClientCreds() {
  document.getElementById('welcome-section').style.display = 'none';
  document.getElementById('client-section').style.display = 'block';
}

function filterCards() {
  const query = document.getElementById('searchBar').value.toLowerCase();
  const cards = document.querySelectorAll('.card');
  cards.forEach(card => {
    const text = card.textContent.toLowerCase();
    card.style.display = text.includes(query) ? 'block' : 'none';
  });
}

function showModal(client) {
  let content = '';
  const groups = {
    "Basic Data": ["Client Name", "Legal Name of Client", "Constitution", "GST Reg Type", "GSTIN", "PAN", "Father's Name", "DOB", "Aadhaar No.", "TAN", "Auth. Signatory"],
    "GST": ["GST User ID", "GST Password", "EWB Portal ID", "EWB Pass", "EWB API ID", "EWB API Pass"],
    "Income Tax": ["IT Login Pass", "TRACES User ID (Deductor)", "TRACES Password (Deductor)", "TRACES User ID (Tax Payer)", "TRACES Password (Tax Payer)", "Income tax P/w for TDS Filing"]
  };

  for (let group in groups) {
    content += `<h4>${group}</h4>`;
    groups[group].forEach(field => {
      const value = client[field] || "N/A";
      content += `<div class="row"><span>${field}:</span><span>${value}<button class='copy-btn' onclick="navigator.clipboard.writeText('${value}')">üìã</button></span></div>`;
    });
  }

  if (client["GSTIN"]) {
    content += `<h4>Links</h4><div class="row"><a target="_blank" href="https://services.gst.gov.in/services/searchtp?gstin=${client["GSTIN"]}">üîç Search on GST Portal</a></div>`;
  }

  document.getElementById("modal-content").innerHTML = content;
  document.getElementById("modal").style.display = 'block';
}

function createCard(client) {
  return `
    <div class="card">
      <h3>${client["Client Name"]}</h3>
      <p>PAN: ${client["PAN"] || "N/A"}</p>
      <p>GSTIN: ${client["GSTIN"] || "N/A"}</p>
      <button class="view-more" onclick='showModal(${JSON.stringify(client)})'>View More</button>
    </div>`;
}

Papa.parse(sheetURL, {
  download: true,
  header: true,
  complete: function(results) {
    const data = results.data;
    const container = document.getElementById("cards-container");
    container.innerHTML = data.map(client => createCard(client)).join("");
  }
});
</script>

</body>
</html>
